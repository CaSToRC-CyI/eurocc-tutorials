<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Setting up and Using Development tools - Cyclone Tutorials</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Cyclone Tutorials</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Tutorials</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../t01_introduction_to_hpc_systems/" class="dropdown-item">Introduction to HPC Systems</a>
</li>
                                    
<li>
    <a href="../t02_accessing_and_navigating_cyclone/" class="dropdown-item">Accessing and Navigating Cyclone</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Setting up and Using Development tools</a>
</li>
                                    
<li>
    <a href="../t04_scaling_python_workloads/" class="dropdown-item">Scaling Python Workloads</a>
</li>
                                    
<li>
    <a href="../t05_compiling_and_running_code_with_slurm/" class="dropdown-item">Compiling and Running C/C++ Code on Cyclone with SLURM</a>
</li>
                                    
<li>
    <a href="../t06_interactive_computing_with_jupyter_notebooks/" class="dropdown-item">Interactive Computing on Cyclone with Jupyter Notebooks</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../t02_accessing_and_navigating_cyclone/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../t04_scaling_python_workloads/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                              <button id="theme-menu" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme" class="nav-link dropdown-toggle">
                                <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                <span class="d-lg-none ms-2">Toggle theme</span>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="true">
                                    <i class="fa-solid fa-sun fa-fw"></i>
                                    <span class="ms-2">Light</span>
                                    <i class="fa-solid fa-check ms-auto"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                                    <i class="fa-solid fa-moon fa-fw"></i>
                                    <span class="ms-2">Dark</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="auto" aria-pressed="false">
                                    <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                    <span class="ms-2">Auto</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                              </ul>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="../../js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#3-setting-up-and-using-development-tools" class="nav-link">3. Setting up and Using Development Tools</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#31-overview" class="nav-link">3.1. Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#32-learning-objectives" class="nav-link">3.2. Learning Objectives</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#33-prerequisites" class="nav-link">3.3. Prerequisites</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#32-tools-for-development" class="nav-link">3.2. Tools for development</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#33-using-cyclones-module-system" class="nav-link">3.3. Using Cyclone's Module System</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#34-using-conda-to-manage-python-virtual-environments" class="nav-link">3.4. Using conda to Manage Python Virtual Environments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#35-using-venv-to-manage-python-virtual-environments" class="nav-link">3.5. Using venv to manage Python virtual environments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#36-hands-on-exercise" class="nav-link">3.6. Hands-on Exercise</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<!--
 t03_setting_up_and_using_development_tools.md

 CaSToRC, The Cyprus Institute

 (c) 2024 The Cyprus Institute

 Contributing Authors:
 Marios Constantinou (mar.constantinou@cyi.ac.cy)
 Kyriaki Kylili (k.kylili@cyi.ac.cy)

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     https://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<h1 id="3-setting-up-and-using-development-tools">3. Setting up and Using Development Tools</h1>
<h2 id="31-overview">3.1. Overview</h2>
<div style="text-align: justify;">
This tutorial introduces users to modern development tools and workflows that simplify working on HPC systems like Cyclone. Participants will learn to set up and configure tools like VS Code and MobaXTerm for remote file editing and code management directly on Cyclone. The session also covers how to use the module system to load software environments and how to extend functionality with tools like Conda or virtual environments (venv). By adopting these workflows, users will enhance their productivity and streamline their interactions with Cyclone.
</div>

<hr />
<h2 id="32-learning-objectives">3.2. Learning Objectives</h2>
<div style="text-align: justify;">
By the end of this tutorial, participants will be able to:
<ol>
<li>Set up and configure modern development tools, such as VS Code (for all platforms) or MobaXTerm (for Windows), to remotely access Cyclone and edit files directly on the system.</li>
<li>Understand how to use Cyclone’s module system to load and manage software environments.</li>
<li>Create and manage custom environments using tools like Conda or virtual environments (venv) to extend functionality and accommodate specific project needs.</li>
</ol>
</div>

<hr />
<h2 id="33-prerequisites">3.3. Prerequisites</h2>
<div style="text-align: justify;">
<ol>
<li><a href="/tutorials/t01_introduction_to_hpc_systems">T01 - Introduction to HPC Systems:</a> This tutorial will give you some basic knowledge on HPC systems and basic terminologies.</li>
<li><a href="/tutorials/t02_accessing_and_navigating_cyclone">T02 - Accessing and Navigating Cyclone:</a> This tutorial will give you some basic knowledge on how to connect, copy files and navigate the HPC system.</li>
</ol>
</div>

<hr />
<h2 id="32-tools-for-development">3.2. Tools for development</h2>
<p>In this section we will cover how to setup VS Code and MobaXTerm, so the user can connect to Cyclone,and start developing.</p>
<h3 id="321-vs-code">3.2.1. VS Code</h3>
<div style="text-align: justify;">
Visual Studio Code (VS Code) is a versatile code editor widely used for software development. With the Remote - SSH extension, it enables seamless connection to Cyclone, allowing users to edit, debug, and manage code directly on the HPC system. This eliminates the need for constant file transfers and provides a familiar development environment. By using VS Code, developers can streamline workflows and enhance productivity on Cyclone.
</div>

<h4 id="downloading-vs-code">Downloading VS Code</h4>
<div style="text-align: justify;">
Users should follow this <a href="https://code.visualstudio.com/download"> link</a>, and download the appropriate VS Code installer based on their OS. Then, follow the on-screen instuctions during the installation.
</div>

<h4 id="setting-up-vs-code">Setting up VS Code</h4>
<div style="text-align: justify;">
Once the installation is finished, it is time to install some basic extensions.

Depending on your code-base, you might want to install some code extensions such as <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python"> Python</a>. Furthermore, there are various extensions that provide extended support for code predictions or auto-completions. Feel free to browse the Extension Marketplace and download the ones you need!

The only extension that is 100% mandatory for this tutorial is the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh"> <b>Remote-SSH extension</b></a>. <i>Remote-SSH</i> enables you to use any remote machine with an SSH server as your development environment.

Go ahead and search Remote - SSH in the Extension Marketplace and install it.
</div>

<p><img alt="alt text" src="../../images/vs_code_marketplace.png" /></p>
<div style="text-align: justify;">
After you install the extension, you will see an extra button on the left side-panel and on the bottom left. If you don't, restart VS Code.
</div>

<p><img alt="alt text" src="../../images/remote_ssh_ext_btn.png" /></p>
<div style="text-align: justify;">
When you click the extension's button, you might see on the top right of the panel a drop-down menu. <b>Remote-ssh</b> lets you connect to other systems as well, such as docker. For our use-case, we need to select the <b>Remotes (Tunnels/SSH)</b> option if it's not already selected.
</div>

<p><img alt="alt text" src="../../images/select_remotes_option.png" /></p>
<h4 id="connecting-to-cyclone">Connecting to Cyclone</h4>
<div style="text-align: justify;">
Now that we have <b>Remote-SSH</b> installed, it's time to set it up so it can establish a connection on Cyclone.

If you followed the tutorials up until this point, you should have a private ssh key and a config file that lets you connect onto Cyclone through your terminal. We are going to use both to let VS Code connect onto Cyclone as well. 

<blockquote>
⚠️ If not, please refer to <a href="/tutorials/t02_accessing_and_navigating_cyclone"> Tutorial 02</a> for instructions on how to set this up.
</blockquote>

Let's break it into steps:
</div>

<h5 id="step-1-go-and-add-the-following-lines-to-your-ssh-config-file"><strong>Step 1:</strong> Go and add the following lines to your ssh config file.</h5>
<p>The config file is located at:</p>
<div style="text-align: justify;">
<blockquote>
<b><i>Windows:</b></i> %userprofile%/.ssh/
<br>
<br>
<b><i>Linux & Mac:</b></i> ~/.ssh/
</blockquote>

Your SSH config file should get picked up by VS Code. You should see an option called <code>cyclone</code> on the left panel when you press the extension's button.

<!-- ***Note:*** If you created your ssh-key using PuTTYgen, you will need to export that key into an OpenSSH key in order for this to work.

> To do this, open PuTTYgen, load your key, and under the Conversions tab, select *Export OpenSSH key (force new file format)*. Save the exported key in your ~/.ssh directory.
>
> You can create a different folder in your .ssh directory, call it something vs_code_keys, and place the exported key in there. In the config file above, make sure you set the correct path. -->
<br>
<img src="/images/remote_ssh_hosts.png" alt="alt text">
<br>

When you hover over that option, you will see two buttons on the right:
<ul>
<li>The first button will establish a connection on your current VS Code window</li>
<li>The second button will open a new VS Code window and establish a connection on that</li> 
</ul>

Go ahead and click the first button.

<blockquote>
ℹ️ You might get a prompt to select the hosts (Cyclone) operating system. Go ahead and select Linux.
</blockquote>

After that, if everything is setup correctly, you will get a prompt asking for a <b><i>passphrase</i></b>. Go ahead and type your passphrase and press enter. <i>That's it - you are now connected on Cyclone with VS Code!!</i>

<br>
<img src="/images/first_login.png" alt="alt text">
<br>

<b>Note:</b> Do not click <b><i>Open Folder</i></b> yet.

If you followed this tutorial series up to this point, you should be familiar on how Cyclone's file system is structured.

Just to remind you, Cyclone has 3 different directory types:

<blockquote>
<ul>
<li><b>$HOME</b> (<code>/nvme/h/&lt;username&gt;</code>): is the home directory of a user. Users should store their source code and build executables here. The home directory is limited in size.</li>
<br>
<li><b>$DATA_projectid</b> (<code>/nvme/h/&lt;username&gt;/data_&lt;projectid&gt;</code>)): is the data directory of a user within the project shared directory. Users must change to this directory in their batch scripts to run their jobs. The data directory has a total maximum quota as allocated to each project.</li>
<br>
<li><b>$SCRATCH</b> (<code>/nvme/scratch/&lt;username&gt;</code>): is a temporary storage directory for data to reside. Month old contents of scratch directory are purged during the monthly maintenance windows.</li>
</ul>
</blockquote>

At the end of this tutorial, we are going to have a hands-on session, where we will use everything that we will learn. For this purpose, we are going to create a folder for our dummy project in our <b>$HOME</b> directory.

<br>
<br>

Open VS Code's terminal or your prefered one. Then go into your <b>$HOME</b> directory and create a folder by typing:


<pre class="codehilite"><code class="language-bash">cd $HOME
mkdir tutorial_03_project
ls -l
</code></pre>



The <code>ls -l</code> command should show our newly created folder.

<br>

Now click <b>Open Folder</b>, and select the folder that we just created. You will be prompted to insert your passphrase once more. After that, you will be able to see that folder on the left panel, when you click the remote-ssh extension button:

<br>
<img src="/images/dummy_folder_panel_show.png" alt="alt text">
<br>

From now on, you will be able to establish a remote-ssh connection straight to that folder.
</div>

<p><br></p>
<h3 id="322-mobaxterm">3.2.2. MobaXTerm</h3>
<div style="text-align: justify;">
MobaXTerm is an all-in-one remote desktop and terminal solution designed for developers and system administrators. It provides a user-friendly interface for SSH connections, enabling easy access to Cyclone's HPC environment. With features like remote file editing, a built-in SFTP browser, and X11 forwarding, users can manage files, run graphical applications, and execute commands efficiently. MobaXTerm simplifies remote workflows, making it an excellent tool for working on Cyclone.
</div>

<h4 id="setting-up-mobaxterm-windows-only">Setting up MobaXTerm (Windows Only)</h4>
<div style="text-align: justify;">
<ol>
<li>Go to <a href="https://mobaxterm.mobatek.net/download.html"> this</a> URL, and download MobaXTerm.</li>
<li>After you download the zip folder, extract it, and run the <b>.msi</b> file located inside the folder. If you download the portable edition, then just double click the downloaded file and it will open the application straight away.</li>
<li>Follow the installer's steps until completion. Keep in mind, Administrative permission is required to install this software.</li>
<li>Go ahead and launch the software. You might be prompted to allow MobaXTerm to access private networks, click allow.</li>
</ol>

<img src="/images/mobaxterm_first_login.png" alt="alt text">
<br>

</div>

<h5 id="launching-an-ssh-session-on-mobaxterm">Launching an SSH session on MobaXTerm</h5>
<div style="text-align: justify;">
There's a button on the top left corner called <i>Session</i>. Click that, and then select the first option that reads <i>SSH</i>.

<br>
<img src="/images/mobaxterm_start_session.png" alt="alt text">
<br>

Afterwards, fill the Remote Host (<code>cyclone.hpcf.cyi.ac.cy</code>), click <i>Specify username</i> and type <b>your username</b>.

<br>
<img src="/images/host_username_mobaxterm.png" alt="alt text">
<br>

Lastly, we have to setup our SSH key. Click on <i>Advanced SSH settings</i>, then click <i>Use Private Key</i>, and then write the path of <b>your private key</b> for Cyclone.

<br>
<img src="/images/mobaxterm_ssh_settings.png" alt="alt text">
<br>

Click <i>OK</i>, you will then be prompted to insert your <i>Passphrase</i>.

After that you are done! You have an established connection to Cyclone with MobaXTerm.

<br>
<img src="/images/mobaxterm_login.png" alt="alt text">
<br>

This tool is very versitile and has a lot of functionality. Please visit their <a href="https://mobaxterm.mobatek.net/documentation.html"> documentation page</a> to read more about it.
</div>

<hr />
<h2 id="33-using-cyclones-module-system">3.3. Using Cyclone's Module System</h2>
<div style="text-align: justify;">
The OS of Cyclone is a <i>minimal Linux installation</i>. Software applications installed on the Cyclone, are available through the <b>Module</b> system. For basic overview of the Module system please refer at <a href="/tutorials/t01_introduction_to_hpc_systems#16-introduction-to-modules">T01 - Introduction to HPC Systems</a>.
</div>

<h3 id="331-finding-a-module">3.3.1. Finding a module</h3>
<div style="text-align: justify;">
There are two ways to search for modules:

<blockquote>
module avail
<br>
module spider
</blockquote>

The <code>module avail</code> command returns the names of all available modules. If you are a new user, it is recommended to use this command.
<br>
<b>Note:</b> Some modules have the <code>(D)</code> next to them. This means they are the default module to be loaded when a version is not specified
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module avail

---------------------------------------------------------------------- /eb/modules/all ----------------------------------------------------------------------
   4ti2/1.6.10-GCC-13.2.0                                                XZ/5.4.5-GCCcore-13.3.0                        (D)
   ABAQUS/2024                                                           Xerces-C++/3.2.4-GCCcore-12.3.0
   ANTLR/2.7.7-GCCcore-8.3.0-Java-11                                     Xvfb/21.1.3-GCCcore-11.3.0
   ASE/3.22.1-foss-2022a                                                 YACS/0.1.8-GCCcore-11.3.0
   ATK/2.38.0-GCCcore-11.3.0                                             Yasm/1.3.0-GCCcore-11.2.0
   Abseil/20230125.3-GCCcore-12.3.0                                      Yasm/1.3.0-GCCcore-11.3.0
   AmberTools/22.3-foss-2021b                                            Yasm/1.3.0-GCCcore-12.3.0
   AmberTools/22.3-foss-2022a                                    (D)     Yasm/1.3.0-GCCcore-13.2.0                      (D)
   Anaconda3/2021.11                                                     Z3/4.10.2-GCCcore-11.3.0
   Anaconda3/2023.03-1                                           (D)     Z3/4.12.2-GCCcore-12.3.0                       (D)
   ...
   XZ/5.2.5-GCCcore-11.2.0                                               zstd/1.5.0-GCCcore-11.2.0
   XZ/5.2.5-GCCcore-11.3.0                                       (L)     zstd/1.5.2-GCCcore-11.3.0
   XZ/5.2.7-GCCcore-12.2.0                                               zstd/1.5.2-GCCcore-12.2.0
   XZ/5.4.2-GCCcore-12.3.0                                               zstd/1.5.5-GCCcore-12.3.0
   XZ/5.4.4-GCCcore-13.2.0                                               zstd/1.5.5-GCCcore-13.2.0                      (D)

  Where:
   Aliases:  Aliases exist: foo/1.2.3 (1.2) means that &quot;module load foo/1.2&quot; will load foo/1.2.3
   D:        Default Module
   L:        Module is loaded

If the avail list is too long consider trying:

&quot;module --default avail&quot; or &quot;ml -d av&quot; to just list the default modules.
&quot;module overview&quot; or &quot;ml ov&quot; to display the number of modules for each name.

Use &quot;module spider&quot; to find all possible modules and extensions.
Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching any of the &quot;keys&quot;.
</code></pre>

<div style="text-align: justify;">
The <code>module spider</code> command shows a lot more information about the modules. Users can use the <code>avail</code> command to find the exact name of the module they are looking for, and then use the <code>spider</code> command on the exact name, to find more information about it
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module spider

---------------------------------------------------------------------------------------------------------------------------------------------------------
The following is a list of the modules and extensions currently available:
---------------------------------------------------------------------------------------------------------------------------------------------------------
  4ti2: 4ti2/1.6.10-GCC-13.2.0
    A software package for algebraic, geometric and combinatorial problems on linear spaces

  ABAQUS: ABAQUS/2024
    Finite Element Analysis software for modeling, visualization and best-in-class implicit and explicit dynamics FEA.

  ANTLR: ANTLR/2.7.7-GCCcore-8.3.0-Java-11
    ANTLR, ANother Tool for Language Recognition, (formerly PCCTS) is a language tool that provides a framework for constructing recognizers, compilers,
    and translators from grammatical descriptions containing Java, C#, C++, or Python actions.

  ASE: ASE/3.22.1-foss-2022a
    ASE is a python package providing an open source Atomic Simulation Environment in the Python scripting language. From version 3.20.1 we also include
    the ase-ext package, it contains optional reimplementations in C of functions in ASE. ASE uses it automatically when installed.

  ATK: ATK/2.38.0-GCCcore-11.3.0
    ATK provides the set of accessibility interfaces that are implemented by other toolkits and applications. Using the ATK interfaces, accessibility
    tools have full access to view and control running applications. 

  ...

  zlib: zlib/1.2.8, zlib/1.2.11-GCCcore-8.3.0, zlib/1.2.11-GCCcore-10.2.0, zlib/1.2.11-GCCcore-11.2.0, zlib/1.2.11, zlib/1.2.12-GCCcore-11.3.0, ...
    zlib is designed to be a free, general-purpose, legally unencumbered -- that is, not covered by any patents -- lossless data-compression library for
    use on virtually any computer hardware and operating system.

  zstd: zstd/1.5.0-GCCcore-11.2.0, zstd/1.5.2-GCCcore-11.3.0, zstd/1.5.2-GCCcore-12.2.0, zstd/1.5.5-GCCcore-12.3.0, zstd/1.5.5-GCCcore-13.2.0
    Zstandard is a real-time compression algorithm, providing high compression ratios. It offers a very wide range of compression/speed trade-off, while
    being backed by a very fast decoder. It also offers a special mode for small data, called dictionary compression, and can create dictionaries from
    any sample set.

---------------------------------------------------------------------------------------------------------------------------------------------------------

To learn more about a package execute:

   $ module spider Foo

where &quot;Foo&quot; is the name of a module.

To find detailed information about a particular package you
must specify the version if there is more than one version:

   $ module spider Foo/11.1

---------------------------------------------------------------------------------------------------------------------------------------------------------
</code></pre>

<div style="text-align: justify;">
If we want to search more details about a specific package, such as <code>Python v.3.10.8</code>, then we can do so as follows:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module spider Python/3.10.8-GCCcore-12.2.0

---------------------------------------------------------------------------------------------------------------------------------------------------------
  Python: Python/3.10.8-GCCcore-12.2.0
---------------------------------------------------------------------------------------------------------------------------------------------------------
    Description:
      Python is a programming language that lets you work more quickly and integrate your systems more effectively.


    This module can be loaded directly: module load Python/3.10.8-GCCcore-12.2.0

    Help:

      Description
      ===========
      Python is a programming language that lets you work more quickly and integrate your systems
       more effectively.


      More information
      ================
       - Homepage: https://python.org/


      Included extensions
      ===================
      alabaster-0.7.12, appdirs-1.4.4, asn1crypto-1.5.1, atomicwrites-1.4.1,
      attrs-22.1.0, Babel-2.11.0, backports.entry-points-selectable-1.2.0,
      backports.functools_lru_cache-1.6.4, bcrypt-4.0.1, bitstring-3.1.9,
      blist-1.3.6, CacheControl-0.12.11, cachy-0.3.0, certifi-2022.9.24,
      cffi-1.15.1, chardet-5.0.0, charset-normalizer-2.1.1, cleo-1.0.0a5,
      click-8.1.3, clikit-0.6.2, colorama-0.4.6, crashtest-0.3.1,
      cryptography-38.0.3, Cython-0.29.32, decorator-5.1.1, distlib-0.3.6,
      docopt-0.6.2, docutils-0.19, dulwich-0.20.50, ecdsa-0.18.0, editables-0.3,
      exceptiongroup-1.0.1, filelock-3.8.0, flit-3.8.0, flit_core-3.8.0,
      flit_scm-1.7.0, fsspec-2022.11.0, future-0.18.2, glob2-0.7,
      hatch_fancy_pypi_readme-22.8.0, hatch_vcs-0.2.0, hatchling-1.11.1,
      html5lib-1.1, idna-3.4, imagesize-1.4.1, importlib_metadata-5.0.0,
      importlib_resources-5.10.0, iniconfig-1.1.1, intervaltree-3.1.0,
      intreehooks-1.0, ipaddress-1.0.23, jaraco.classes-3.2.3, jeepney-0.8.0,
      Jinja2-3.1.2, joblib-1.2.0, jsonschema-4.17.0, keyring-23.11.0,
      keyrings.alt-4.2.0, liac-arff-2.5.0, lockfile-0.12.2, MarkupSafe-2.1.1,
      mock-4.0.3, more-itertools-9.0.0, msgpack-1.0.4, netaddr-0.8.0,
      netifaces-0.11.0, packaging-21.3, paramiko-2.12.0, pastel-0.2.1,
      pathlib2-2.3.7.post1, pathspec-0.10.1, pbr-5.11.0, pexpect-4.8.0, pip-22.3.1,
      pkginfo-1.8.3, platformdirs-2.5.3, pluggy-1.0.0, poetry-1.2.2, poetry-
      core-1.3.2, poetry_plugin_export-1.2.0, psutil-5.9.4, ptyprocess-0.7.0,
      py-1.11.0, py_expression_eval-0.3.14, pyasn1-0.4.8, pycparser-2.21,
      pycrypto-2.6.1, Pygments-2.13.0, pylev-1.4.0, PyNaCl-1.5.0, pyparsing-3.0.9,
      pyrsistent-0.19.2, pytest-7.2.0, python-dateutil-2.8.2, pytoml-0.1.21,
      pytz-2022.6, regex-2022.10.31, requests-2.28.1, requests-toolbelt-0.9.1,
      scandir-1.10.0, SecretStorage-3.3.3, semantic_version-2.10.0,
      setuptools-63.4.3, setuptools-rust-1.5.2, setuptools_scm-7.0.5,
      shellingham-1.5.0, simplegeneric-0.8.1, simplejson-3.17.6, six-1.16.0,
      snowballstemmer-2.2.0, sortedcontainers-2.4.0, Sphinx-5.3.0, sphinx-bootstrap-
      theme-0.8.1, sphinxcontrib-applehelp-1.0.2, sphinxcontrib-devhelp-1.0.2,
      sphinxcontrib-htmlhelp-2.0.0, sphinxcontrib-jsmath-1.0.1, sphinxcontrib-
      qthelp-1.0.3, sphinxcontrib-serializinghtml-1.1.5, sphinxcontrib-
      websupport-1.2.4, tabulate-0.9.0, threadpoolctl-3.1.0, toml-0.10.2,
      tomli-2.0.1, tomli_w-1.0.0, tomlkit-0.11.6, typing_extensions-4.4.0,
      ujson-5.5.0, urllib3-1.26.12, virtualenv-20.16.6, wcwidth-0.2.5,
      webencodings-0.5.1, wheel-0.38.4, xlrd-2.0.1, zipfile36-0.1.3, zipp-3.10.0
</code></pre>

<h3 id="332-managing-modules">3.3.2. Managing modules</h3>
<h4 id="loading-a-module">Loading a module</h4>
<div style="text-align: justify;">
By using <code>module load $MODULE_NAME</code> you can load and use <code>$MODULE_NAME</code>.

Example: Using Python <code>v3.10.4</code> instead of system default (<code>v3.10.13</code>)

</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ python -V # Check if Python is loaded
Python 3.10.13 # Python v3.10.13 is loaded by default
[marconstantinou@front02 ~]$ module avail python # This will print all available python modules
------------------------------- /eb/modules/all --------------------------------
   ...
   Python/2.7.16-GCCcore-8.3.0
   Python/2.7.18-GCCcore-11.2.0-bare
   Python/2.7.18-GCCcore-11.2.0
   Python/3.7.4-GCCcore-8.3.0
   Python/3.8.6-GCCcore-10.2.0
   Python/3.9.6-GCCcore-11.2.0-bare
   Python/3.9.6-GCCcore-11.2.0
   Python/3.10.4-GCCcore-11.3.0-bare
   Python/3.10.4-GCCcore-11.3.0
   Python/3.10.8-GCCcore-12.2.0-bare
   Python/3.10.8-GCCcore-12.2.0
   Python/3.11.3-GCCcore-12.3.0
   Python/3.11.5-GCCcore-13.2.0
   Python/3.12.3-GCCcore-13.3.0                            (D)
   ...

  Where:
   D:  Default Module

If the avail list is too long consider trying:

&quot;module --default avail&quot; or &quot;ml -d av&quot; to just list the default modules.
&quot;module overview&quot; or &quot;ml ov&quot; to display the number of modules for each name.

Use &quot;module spider&quot; to find all possible modules and extensions.
Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching
any of the &quot;keys&quot;.
[marconstantinou@front02 ~]$ module load Python/3.10.4-GCCcore-11.3.0 # Load Python 3.10.4
[marconstantinou@front02 ~]$ python -V
Python 3.10.4
</code></pre>

<h4 id="checking-loaded-modules">Checking loaded modules</h4>
<div style="text-align: justify;">
To see what modules are already loaded and used in your environment, we can type:

<blockquote>
module list
</blockquote>
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module list

Currently Loaded Modules:
  1) GCCcore/11.3.0                 5) ncurses/6.3-GCCcore-11.3.0         9) XZ/5.2.5-GCCcore-11.3.0      13) Python/3.10.4-GCCcore-11.3.0
  2) zlib/1.2.12-GCCcore-11.3.0     6) libreadline/8.1.2-GCCcore-11.3.0  10) GMP/6.2.1-GCCcore-11.3.0
  3) binutils/2.38-GCCcore-11.3.0   7) Tcl/8.6.12-GCCcore-11.3.0         11) libffi/3.4.2-GCCcore-11.3.0
  4) bzip2/1.0.8-GCCcore-11.3.0     8) SQLite/3.38.3-GCCcore-11.3.0      12) OpenSSL/1.1
</code></pre>

<div style="text-align: justify;">
This will show the currently loaded modules. Note here we also see <code>Python/3.10.4-GCCcore-11.3.0</code> being available (along with any dependencies), following the previous example.
</div>
<p><br></p>
<h4 id="unload-a-module">Unload a module</h4>
<div style="text-align: justify;">
Following the previous example, to unload the loaded Python version, we can do so by using the <code>module unload</code> command. This will remove the specified module from the loaded modules of your environment.

<br>
<b>Example:</b> Removing Python 3.10.4 From the Environment
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module unload Python/3.10.4-GCCcore-11.3.0
[marconstantinou@front02 ~]$ module list

Currently Loaded Modules:
  1) GCCcore/11.3.0                 4) bzip2/1.0.8-GCCcore-11.3.0         7) Tcl/8.6.12-GCCcore-11.3.0     10) GMP/6.2.1-GCCcore-11.3.0
  2) zlib/1.2.12-GCCcore-11.3.0     5) ncurses/6.3-GCCcore-11.3.0         8) SQLite/3.38.3-GCCcore-11.3.0  11) libffi/3.4.2-GCCcore-11.3.0
  3) binutils/2.38-GCCcore-11.3.0   6) libreadline/8.1.2-GCCcore-11.3.0   9) XZ/5.2.5-GCCcore-11.3.0       12) OpenSSL/1.1
[marconstantinou@front02 ~]$ python -V
Python 3.10.13
</code></pre>

<div style="text-align: justify;">
You can also switch from one version to another in one go via <code>module swap</code>:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module swap Python/3.10.4-GCCcore-11.3.0 Python/3.12.3-GCCcore-13.3.0 

The following have been reloaded with a version change:
  1) GCCcore/11.3.0 =&gt; GCCcore/13.3.0                                 7) binutils/2.38-GCCcore-11.3.0 =&gt; binutils/2.42-GCCcore-13.3.0
  2) OpenSSL/1.1 =&gt; OpenSSL/3                                         8) bzip2/1.0.8-GCCcore-11.3.0 =&gt; bzip2/1.0.8-GCCcore-13.3.0
  3) Python/3.10.4-GCCcore-11.3.0 =&gt; Python/3.12.3-GCCcore-13.3.0     9) libffi/3.4.2-GCCcore-11.3.0 =&gt; libffi/3.4.5-GCCcore-13.3.0
  4) SQLite/3.38.3-GCCcore-11.3.0 =&gt; SQLite/3.45.3-GCCcore-13.3.0    10) libreadline/8.1.2-GCCcore-11.3.0 =&gt; libreadline/8.2-GCCcore-13.3.0
  5) Tcl/8.6.12-GCCcore-11.3.0 =&gt; Tcl/8.6.14-GCCcore-13.3.0          11) ncurses/6.3-GCCcore-11.3.0 =&gt; ncurses/6.5-GCCcore-13.3.0
  6) XZ/5.2.5-GCCcore-11.3.0 =&gt; XZ/5.4.5-GCCcore-13.3.0              12) zlib/1.2.12-GCCcore-11.3.0 =&gt; zlib/1.3.1-GCCcore-13.3.0
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> The module system takes care of any relevant dependencies to the requested module we are trying to load. Therefore, switching from one version to another, the correct version of each dependency is reloaded automatically.
</div>
<p><br></p>
<h4 id="reset-loaded-modules">Reset loaded modules</h4>
<div style="text-align: justify;">
To start from a clean environemnt we can use the <code>purge</code> command.

<blockquote>
module purge
</blockquote>

This will unload all the modules:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module list

Currently Loaded Modules:
  1) GMP/6.2.1-GCCcore-11.3.0       5) bzip2/1.0.8-GCCcore-13.3.0       9) SQLite/3.45.3-GCCcore-13.3.0  13) Python/3.12.3-GCCcore-13.3.0
  2) GCCcore/13.3.0                 6) ncurses/6.5-GCCcore-13.3.0      10) XZ/5.4.5-GCCcore-13.3.0
  3) zlib/1.3.1-GCCcore-13.3.0      7) libreadline/8.2-GCCcore-13.3.0  11) libffi/3.4.5-GCCcore-13.3.0
  4) binutils/2.42-GCCcore-13.3.0   8) Tcl/8.6.14-GCCcore-13.3.0       12) OpenSSL/3

[marconstantinou@front02 ~]$ module purge
[marconstantinou@front02 ~]$ module list
No modules loaded
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> It is recommended to use before loading any modules, because modules loaded on your login environment are curried over to your job environment. This is a good way to make sure that there are no left over modules.
</div>
<p><br></p>
<hr />
<h2 id="34-using-conda-to-manage-python-virtual-environments">3.4. Using <code>conda</code> to Manage Python Virtual Environments</h2>
<div style="text-align: justify;">
<code>conda</code> is an open-source package management and environment management system widely used in data science, machine learning, and software development. It simplifies the installation, updating, and management of software packages and their dependencies across various programming languages, including <code>Python</code>, <code>R</code>, and <code>C++</code>. <code>conda</code> also enables users to <b>create isolated environments, allowing them to work on multiple projects with different dependencies without conflicts</b>. It supports a wide range of operating systems and can manage libraries for scientific computing, data analysis, and machine learning efficiently.
<br>
<br>
The <b>official documentation</b> for Anaconda can be found <a href="https://docs.anaconda.com/">here</a>.
</div>
<p><br></p>
<h3 id="341-creating-an-environment">3.4.1. Creating an environment</h3>
<div style="text-align: justify;">
You can create an empty environment by running:
</div>

<pre class="codehilite"><code class="language-bash"># Replace &lt;ENV_NAME&gt; with a name for your environment
[marconstantinou@front02 ~]$ conda create -n &lt;ENV_NAME&gt;
</code></pre>

<div style="text-align: justify;">
or if you want to create an environment with Python and other packages, run this:
</div>

<pre class="codehilite"><code class="language-bash"># Replace &lt;ENV_NAME&gt; with a name for your environment
# Replace &lt;PACKAGE&gt; with your desired package
# Replace &lt;VERSION&gt; with your desired version of Python
[marconstantinou@front02 ~]$ conda create -n &lt;ENV_NAME&gt; python=&lt;VERSION&gt; &lt;PACKAGE&gt;=&lt;VERSION&gt;
</code></pre>

<div style="text-align: justify;">
<b>Example:</b> Creating an environment with <code>Python 3.11</code> and other specific libraries
<blockquote>
conda create -n myenv python=3.11 beautifulsoup4 docutils jinja2=3.1.4 wheel
</blockquote>
</div>

<h3 id="342-activating-an-environment">3.4.2. Activating an environment</h3>
<div style="text-align: justify;">
To activate your environment, simply run:
</div>

<pre class="codehilite"><code class="language-bash"># Replace &lt;ENV_NAME&gt; with the name of the environment you want to activate
[marconstantinou@front02 ~]$ conda activate &lt;ENV_NAME&gt;
(ENV_NAME)[marconstantinou@front02 ~]$ 
</code></pre>

<div style="text-align: justify;">
You should now be able to see <code>(ENV_NAME)</code> next to your user name.
</div>

<h3 id="343-switching-between-environments">3.4.3. Switching between environments</h3>
<div style="text-align: justify;">
If you want to switch to a different environment you can run these commands:
</div>

<pre class="codehilite"><code class="language-bash"># Show all available environments
(base)[marconstantinou@front02 ~]$ conda info --envs
# conda environments:
#
base                  *  /nvme/h/buildsets/eb_cyclone_rl/software/Anaconda3/2023.03-1
juplab                   /nvme/h/marconstantinou/.conda/envs/juplab
myenv                    /nvme/h/marconstantinou/.conda/envs/myenv

# Replace &lt;ENV_NAME&gt; with the name of the environment you want to switch to
(base)[marconstantinou@front02 ~]$ conda activate &lt;ENV_NAME&gt;
(ENV_NAME)[marconstantinou@front02 ~]$ 
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> Activating a different environment will deactivate your current one.
</div>
<p><br></p>
<h3 id="344-deactivating-an-environment">3.4.4. Deactivating an environment</h3>
<div style="text-align: justify;">
To deactivate your current environment, simply type:
</div>

<pre class="codehilite"><code class="language-bash">(ENV_NAME)[marconstantinou@front02 ~]$ conda deactivate
(base)[marconstantinou@front02 ~]$ 
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> Upon deactivation, the environment will switch to the <code>base</code> acting as the default environment. If you want to deactivate <code>conda</code> completely, repeat <code>conda deactivate</code>.
</div>
<p><br></p>
<h3 id="345-exporting-an-environment">3.4.5. Exporting an environment</h3>
<div style="text-align: justify;">
Do not attempt to copy the environment's files to a different machine. It will <b>not</b> recreate the environment. We must export the environment and install it again.

To export the environment, simply run:
</div>

<pre class="codehilite"><code class="language-bash"># Replace &lt;ENV_NAME&gt; with the name of the environment you want exported
(base)[marconstantinou@front02 ~]$ conda activate &lt;ENV_NAME&gt;
(ENV_NAME)[marconstantinou@front02 ~]$ conda env export &gt; environment.yml
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> This will handle both <code>conda</code> and <code>pip</code>'s packages.

In your current directory you should see a file called <b><i>environment.yml</b></i>. You can take this file to the machine you want to export the environment and run:
</div>

<pre class="codehilite"><code class="language-bash">(base)[marconstantinou@front02 ~]$ conda env create -f environment.yml
</code></pre>

<div style="text-align: justify;">
After this, you can activate the environment and use it as is.
</div>
<p><br></p>
<hr />
<h2 id="35-using-venv-to-manage-python-virtual-environments">3.5. Using <code>venv</code> to manage Python virtual environments</h2>
<div style="text-align: justify;">
The <code>venv</code> module in Python is a tool to create isolated environments for your projects. This ensures that dependencies for one project don’t interfere with those of another. Here's how to get started with <code>venv</code>.

<br>

<code>venv</code> and <code>conda</code> both create isolated environments for Python projects, but they differ in scope and functionality. <code>venv</code> is a lightweight, Python-specific tool for isolating packages installed via <code>pip</code>, relying on the system's Python interpreter. In contrast, <code>conda</code> is a cross-language package and environment manager that can handle both Python and non-Python dependencies, including system libraries, and comes with its own Python interpreter. While <code>venv</code> is simple and built into Python, <code>conda</code> is more feature-rich, making it ideal for data science and projects with complex dependencies.
</div>
<p><br></p>
<h3 id="351-creating-a-virtual-environment">3.5.1. Creating a virtual environment</h3>
<div style="text-align: justify;">
Navigate to your project's directory:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ cd /path/to/your/project
</code></pre>

<div style="text-align: justify;">
Create a <code>venv</code> environment:
</div>

<pre class="codehilite"><code class="language-bash"># REPLACE venv_name with the name you want to give to your environment
[marconstantinou@front02 ~]$ python -m venv venv_name
</code></pre>

<h3 id="352-activating-a-virtual-environment">3.5.2. Activating a virtual environment</h3>
<div style="text-align: justify;">
To start using the virtual environment, you need to activate it via:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ source venv_name/bin/activate
(venv_name)[marconstantinou@front02 ~]$ 
</code></pre>

<h3 id="353-installing-packages">3.5.3. Installing packages</h3>
<div style="text-align: justify;">
Once you activate the environment you can start installing packages via simply running:

<blockquote>
pip install package_name
</blockquote>

<b>Example:</b>
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ pip install numpy
(venv_name) [marconstantinou@front02 ~]$ pip install numpy
Collecting numpy
  Downloading numpy-2.2.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.0/62.0 kB 1.2 MB/s eta 0:00:00
Downloading numpy-2.2.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.1/16.1 MB 22.2 MB/s eta 0:00:00
Installing collected packages: numpy
Successfully installed numpy-2.2.2
</code></pre>

<div style="text-align: justify;">
You can see what packages you have installed by typing:
</div>

<pre class="codehilite"><code class="language-bash">(venv_name) [marconstantinou@front02 ~]$ pip list
Package Version
------- -------
numpy   2.2.2
pip     24.0
</code></pre>

<h3 id="354-deleting-a-virtual-environment">3.5.4. Deleting a virtual environment</h3>
<div style="text-align: justify;">
To delete the environment simply type:
</div>

<pre class="codehilite"><code class="language-bash">(venv_name) [marconstantinou@front02 ~]$ rm -rf venv_name
</code></pre>

<hr />
<h2 id="36-hands-on-exercise">3.6. Hands-on Exercise</h2>
<div style="text-align: justify;">
In this exercise, we will:
<ol>
<li>connect to Cyclone using VS Code (you can use whatever interface you prefer)</li>
<li>create a directory for our small project</li>
<li>load some modules</li>
<li>create a virtual environment for our python scripts</li>
<li>and finally we will run a small python file.</li>
</ol>
</div>

<h3 id="361-setup-our-projects-directory">3.6.1. Setup our project's directory</h3>
<div style="text-align: justify;">
Open up VS Code and connect to Cyclone. Once connected, go to the terminal and into your <code>$HOME</code> dir. <b>Note:</b> Please keep in mind that you can do all these by using the graphical interface of VS Code - if you prefer that way, then go ahead and do that.
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ pwd
/nvme/h/marconstantinou
</code></pre>

<div style="text-align: justify;">
If you are not in your <code>$HOME</code> directory, type:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ cd $HOME
</code></pre>

<div style="text-align: justify;">
To create our hands-on directory, type:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ mkdir tutorial_03_project/
</code></pre>

<div style="text-align: justify;">
If you followed all the steps until now, you should see a <code>tutorial_03_project</code> directory when you type this command:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ ls -l
total 2
lrwxrwxrwx  1 marconstantinou p232        15 Nov  4 10:20 data_p232 -&gt; /onyx/data/p232
lrwxrwxrwx  1 marconstantinou p232        19 Nov  4 11:22 edu24 -&gt; /onyx/data/edu24
lrwxrwxrwx  1 marconstantinou p232        29 Nov  4 10:20 scratch -&gt; /nvme/scratch/marconstantinou
drwxr-xr-x  2 marconstantinou p232         0 Dec 10 15:26 tutorial_03_project
</code></pre>

<div style="text-align: justify;">
Go inside that directory:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ cd tutorial_03_project/
</code></pre>

<div style="text-align: justify;">
Then create a <code>main.py</code> file:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ touch main.py
[marconstantinou@front02 ~]$ ls -l
-rw-r--r-- 1 marconstantinou p232 0 Dec 19 11:40 main.py
</code></pre>

<div style="text-align: justify;">
<img src="/images/handson_03.png" alt="alt text">
<br>

Now that we have our directory and script ready, lets load some module and install some packages.
</div>
<p><br></p>
<h3 id="362-load-cuda-module">3.6.2. Load CUDA module</h3>
<div style="text-align: justify;">
Again, in your terminal connected to Cyclone, type:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module avail CUDA

------------------------------------------- /eb/modules/all --------------------------------------------
   CUDA/10.1.243
   CUDA/11.4.1
   CUDA/11.7.0
   CUDA/11.8.0
   CUDA/12.0.0
   CUDA/12.1.0
   CUDA/12.1.1
   CUDA/12.6.0                                                   (D)
   ...

  Where:
   D:  Default Module

If the avail list is too long consider trying:

&quot;module --default avail&quot; or &quot;ml -d av&quot; to just list the default modules.
&quot;module overview&quot; or &quot;ml ov&quot; to display the number of modules for each name.

Use &quot;module spider&quot; to find all possible modules and extensions.
Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching any of the &quot;keys&quot;.
</code></pre>

<div style="text-align: justify;">
Let's load <code>CUDA/12.1.1</code>:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module load CUDA/12.1.1
</code></pre>

<h3 id="363-create-a-conda-environment-for-our-project-and-install-some-libraries">3.6.3. Create a <code>conda</code> environment for our project and install some libraries</h3>
<div style="text-align: justify;">
We are going to create a <code>conda</code> virtual environment, and install <code>PyTorch</code> which is a Deep Learning framework.

First we need to load Anaconda using the module system:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ module load Anaconda3/2023.03-1
</code></pre>

<div style="text-align: justify;">
Then run:
</div>

<pre class="codehilite"><code class="language-bash">[marconstantinou@front02 ~]$ conda init
</code></pre>

<div style="text-align: justify;">
Now restart your terminal. When you open a new terminal and connect to Cyclone, you should be able to create an environment and activate it.

To do this, type:
</div>

<pre class="codehilite"><code class="language-bash">(base)[marconstantinou@front02 ~]$ conda create --name dummy_proj pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> This will take some time to install, be patient.
<br>
<br>
After everything is installed, go ahead and request a single GPU for 30 minutes on GPU partition of Cyclone by typing:
</div>

<pre class="codehilite"><code class="language-bash"># Start a 30 minute interactive session on a GPU node
(base)[marconstantinou@front02 ~]$ srun --partition=gpu --gres=gpu:1 --time=00:30:00 --pty bash
</code></pre>

<div style="text-align: justify;">
You might see something like this:
</div>

<pre class="codehilite"><code class="language-bash">srun: job 1037413 queued and waiting for resources
</code></pre>

<div style="text-align: justify;">
This mean that cyclone is being utilized, and that our job is in queue until resourcers are found. Please give SLURM some time to allocate some resources to our request.
<br>
<br>
Once the allocation of resources is successful, the <code>front02</code> hostname shown on the terminal next to your username will be changed to the allocated node. In this case, the allocated node is <code>gpu01</code> (Note it might differ from yours!). Then we want to activate our environment:
</div>

<pre class="codehilite"><code class="language-bash">(base)[marconstantinou@gpu01 ~]$ conda activate dummy_proj
</code></pre>

<div style="text-align: justify;">
You can check which libraries are installed in your <code>conda</code> environment by typing
</div>

<pre class="codehilite"><code class="language-bash">(dummy_proj)[marconstantinou@gpu01 ~]$ conda list
</code></pre>

<p><img alt="alt text" src="../../images/handson_04.png" /></p>
<h3 id="364-select-the-correct-python-interpreter-in-vs-code">3.6.4. Select the correct Python Interpreter in VS Code</h3>
<div style="text-align: justify;">
On the top of VS Code, click and type the following:
</div>

<blockquote>
<p>&gt; Python: Select Interpreter</p>
</blockquote>
<p><img alt="alt text" src="../../images/handson_06.png" /></p>
<div style="text-align: justify;">
Click enter and then select the newly created conda environment:
</div>

<p><img alt="alt text" src="../../images/handson_05.png" /></p>
<h3 id="365-running-a-python-script-on-a-gpu-node">3.6.5. Running a python script on a GPU Node</h3>
<div style="text-align: justify;">
Copy and paste the following code snippet inside the <code>main.py</code> file that we created earlier. This file should be inside the directory <code>tutorial_03_project</code>
</div>
<p><br></p>
<pre class="codehilite"><code class="language-python">import sys

import torch


def check_pytorch_installation():
    try:
        # Check if PyTorch is installed
        print(f&quot;PyTorch version: {torch.__version__}&quot;)
    except ImportError:
        print(&quot;PyTorch is not installed.&quot;)
        sys.exit(1)

def check_cuda_support():
    if torch.cuda.is_available():
        print(&quot;CUDA is available!&quot;)
        print(f&quot;CUDA version: {torch.version.cuda}&quot;)
        print(f&quot;Number of GPUs available: {torch.cuda.device_count()}&quot;)
        print(f&quot;GPU Name: {torch.cuda.get_device_name(0)}&quot;)
    else:
        print(&quot;CUDA is not available. Please ensure that your system has a compatible GPU and CUDA setup.&quot;)

def main():
    print(&quot;Checking PyTorch and CUDA installation...&quot;)
    check_pytorch_installation()
    check_cuda_support()
    print(&quot;Verification complete.&quot;)

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>

<div style="text-align: justify;">
Now save it, and inside your terminal run:
</div>

<pre class="codehilite"><code class="language-bash">(dummy_proj)[marconstantinou@gpu01 ~]$ python main.py
</code></pre>

<div style="text-align: justify;">
<b>Note:</b> The above command assumes you are in the directory of the <code>main.py</code> file. If you are in a different directory, you will have to edit the above command.
<br>
<br>
You should see the following:
</div>

<pre class="codehilite"><code class="language-bash">Checking PyTorch and CUDA installation...
PyTorch version: 2.5.1
CUDA is available!
CUDA version: 12.1
Number of GPUs available: 1
GPU Name: Tesla V100-SXM2-32GB
Verification complete.
</code></pre>

<div style="text-align: justify;">
And that's all!
<br>
<br>
You created a directory for your project, loaded some modules, created a conda environment with some libraries, and then you run some python code on a GPU Node.
</div>
<p><br></p>
<h3 id="366-closing-our-interactive-job-session">3.6.6. Closing our interactive job session</h3>
<div style="text-align: justify;">
Inside your terminal go ahead and type:
</div>

<pre class="codehilite"><code class="language-bash">(dummy_proj)[marconstantinou@gpu01 ~]$ squeue --me
</code></pre>

<div style="text-align: justify;">
You should see 1 job with a <i>JOBID</i>, copy that <i>JOBID</i> and type:
</div>

<pre class="codehilite"><code class="language-bash"># Replace JOBID with the ID of your job that you just copied
(dummy_proj)[marconstantinou@gpu01 ~]$ scancel JOBID

# Example
(dummy_proj)[marconstantinou@gpu01 ~]$ scancel 1037152
</code></pre>

<p><img alt="alt text" src="../../images/handson_07.png" /></p>
<hr /></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
